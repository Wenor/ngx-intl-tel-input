<div class="ngx-intl-tel"
     [class.ngx-intl-tel_stroked]="stroked"
     [class.ngx-intl-tel_stroked-error]="stroked && isError"
     [class.ngx-intl-tel_opened]="isMenuOpened"
     [class.ngx-intl-tel_focus]="isFocused">
    <ngx-intl-tel-trigger class="ngx-intl-tel__trigger"
                          [country]="selectedCountry"
                          [isError]="isError"
                          [matMenuTriggerFor]="appMenu"
                          [isMenuOpened]="isMenuOpened"
                          [tooltipField]="tooltipField"
                          [stroked]="stroked"
                          (menuOpened)="isMenuOpen()"
                          (menuClosed)="isMenuClose()">
    </ngx-intl-tel-trigger>
    <mat-form-field [floatLabel]="floatLabel"
                    class="ngx-intl-tel__form-field">
        <mat-label class="ngx-intl-tel__label">
          {{ inputLabel }}
        </mat-label>
        <input class="ngx-intl-tel__input"
               #focusable
               matInput
               type="tel"
               id="phone"
               autocomplete="off"
               [ngClass]="cssClass"
               [(ngModel)]="phoneNumber"
               [disabled]="disabled"
               [placeholder]="separateDialCodePlaceHolder(selectedCountry?.placeHolder || '')"
               [attr.maxLength]="maxLength"
               [attr.validation]="phoneValidation"
               (ngModelChange)="onPhoneNumberChange()"
               (blur)="onBlurEvent()"
               (focus)="onFocusEvent()"
               (keypress)="onInputKeyPress($event)">
        <ng-content select="mat-error"></ng-content>
    </mat-form-field>
    <mat-menu #appMenu="matMenu"
              yPosition="below"
              [class]="dropdownClass">
        <ngx-intl-tel-country [countries]="preferredCountriesInDropDown"
                              [dropdownParams]="dropdownParamsData"
                              (countryClick)="onCountrySelect($event, focusable)" >
        </ngx-intl-tel-country>
        <mat-divider *ngIf="preferredCountriesInDropDown?.length"></mat-divider>
        <ngx-intl-tel-country #countryComponent
                              [countries]="ngxIntlTelInputService.allCountries"
                              [dropdownParams]="dropdownParamsData"
                              (countryClick)="onCountrySelect($event, focusable)">
        </ngx-intl-tel-country>
    </mat-menu>
</div>
